<!doctype html>
<html lang="en">

<head>
    <title>777 小瑪莉</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg"
        crossorigin="anonymous">
    <style>
        @import url('https://fonts.googleapis.com/css?family=Black+Han+Sans');
    </style>
    <style>
        body{
            background-color: black;
        }
        i {
            box-shadow: 0px 0px 20px 3px black;
            border-radius: 50%;
        }

        .img-size {
            border: 4px solid rgb(224, 224, 224);
            width: 100%;
        }

        .circle {
            position: absolute;
            left: 42%;
            top: 80%;
            color: lightgrey;
        }

        .circle-left {
            position: absolute;
            left: 7%;
            top: 45%;
            color: lightgrey;
        }

        .circle-top {
            position: absolute;
            left: 42%;
            top: 7%;
            color: lightgrey;
        }

        .circle-right {
            position: absolute;
            left: 75%;
            top: 45%;
            color: lightgrey;
        }

        .mark {
            font-family: 'Black Han Sans', sans-serif;
            font-size: 20px;
            background-color: green;
            border-top: 4px solid black;
            border-left: 2px solid black;
            border-right: 2px solid black;
            border-bottom: 4px solid black;
        }

        .imgborder {
            margin: 0px;
            padding: 0px;
            border-left: 2px solid black;
            border-right: 2px solid black;
            border-bottom: 4px solid black;
        }

        .bet {
            font-family: 'Black Han Sans', sans-serif;
            font-size: 25px;
            text-align: right;
            color: rgb(255, 67, 67);
            background-color: #840000;
            border-top: 0px solid black;
            border-left: 2px solid black;
            border-right: 2px solid black;
            border-bottom: 4px solid black;
        }
    </style>
</head>

<body>
    <div class="container text-center">
        <div class="row mt-2">
            <div class="col" style="background:#58595b;border: 4px solid black;">
                <div class="row">
                    <div class="col pl-0 pr-1" id="block-0">
                        <img src="../777/image/1.png" class="img-size">
                        <i id="l-0" class="fas fa-circle" style="position: absolute;
                        left: 75%;
                        top: 80%; color: lightgray"></i>
                    </div>
                    <div class="col pl-1 pr-1" id="block-1">
                        <img src="../777/image/2.png" class="img-size">
                        <i id="l-1" class="fas fa-circle circle"></i>
                    </div>
                    <div class="col pl-1 pr-1" id="block-2">
                        <img src="../777/image/3.png" class="img-size">
                        <i id="l-2" class="fas fa-circle circle"></i>
                    </div>
                    <div class="col pl-1 pr-1" id="block-3">
                        <img src="../777/image/4.png" class="img-size">
                        <i id="l-3" class="fas fa-circle circle"></i>
                    </div>
                    <div class="col pl-1 pr-1" id="block-4">
                        <img src="../777/image/5.png" class="img-size">
                        <i id="l-4" class="fas fa-circle circle"></i>
                    </div>
                    <div class="col pl-1 pr-1" id="block-5">
                        <img src="../777/image/6.png" class="img-size">
                        <i id="l-5" class="fas fa-circle circle"></i>
                    </div>
                    <div class="col pl-1 pr-0" id="block-6">
                        <img src="../777/image/7.png" class="img-size">
                        <i id="l-6" class="fas fa-circle" style="position: absolute;
                        left: 7%;
                        top: 80%; color: lightgray"></i>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col pl-0 pr-1" id="block-23">
                        <img src="../777/image/8.png" class="img-size">
                        <i id="l-23" class="fas fa-circle circle-right"></i>
                    </div>
                    <div class="col pl-1 pr-1">
                    </div>
                    <div class="col pl-1 pr-1">
                    </div>
                    <div class="col pl-1 pr-1">
                    </div>
                    <div class="col pl-1 pr-1">
                    </div>
                    <div class="col pl-1 pr-1">
                    </div>
                    <div class="col pl-1 pr-0" id="block-7">
                        <img src="../777/image/8.png" class="img-size">
                        <i id="l-7" class="fas fa-circle circle-left"></i>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col pl-0 pr-1" id="block-22">
                        <img src="../777/image/7.png" class="img-size">
                        <i id="l-22" class="fas fa-circle circle-right"></i>
                    </div>
                    <div class="col pl-1 pr-1">
                    </div>
                    <div class="col pl-1 pr-1" style="color:white">
                        總金額:
                    </div>
                    <div class="col pl-1 pr-1">
                    </div>
                    <div class="col pl-1 pr-1" id="displayMoney" style="color:white">

                    </div>
                    <div class="col pl-1 pr-1">
                    </div>
                    <div class="col pl-1 pr-0" id="block-8">
                        <img src="../777/image/1.png" class="img-size">
                        <i id="l-8" class="fas fa-circle circle-left"></i>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col pl-0 pr-1" id="block-21">
                        <img src="../777/image/6.png" class="img-size">
                        <i id="l-21" class="fas fa-circle circle-right"></i>
                    </div>
                    <div class="col pl-1 pr-1">
                    </div>
                    <div class="col pl-1 pr-1" style="color:white">
                        總獲利:
                    </div>
                    <div class="col pl-1 pr-1">
                    </div>
                    <div class="col pl-1 pr-1" id="displayAllWinMoney" style="color:white">
                    </div>
                    <div class="col pl-1 pr-1">
                    </div>
                    <div class="col pl-1 pr-0" id="block-9">
                        <img src="../777/image/2.png" class="img-size">
                        <i id="l-9" class="fas fa-circle circle-left"></i>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col pl-0 pr-1" id="block-20">
                        <img src="../777/image/5.png" class="img-size">
                        <i id="l-20" class="fas fa-circle circle-right"></i>
                    </div>
                    <div class="col pl-1 pr-1">
                    </div>
                    <div class="col pl-1 pr-1" style="color:white">
                        獲利:
                    </div>
                    <div class="col pl-1 pr-1">
                    </div>
                    <div class="col pl-1 pr-1" id="displayWinMoney" style="color:white">
                    </div>
                    <div class="col pl-1 pr-1">
                    </div>
                    <div class="col pl-1 pr-0" id="block-10">
                        <img src="../777/image/3.png" class="img-size">
                        <i id="l-10" class="fas fa-circle circle-left"></i>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col pl-0 pr-1" id="block-19">
                        <img src="../777/image/4.png" class="img-size">
                        <i id="l-19" class="fas fa-circle circle-right"></i>
                    </div>
                    <div class="col pl-1 pr-1">
                    </div>
                    <div class="col pl-1 pr-1">
                    </div>
                    <div class="col pl-1 pr-1">
                    </div>
                    <div class="col pl-1 pr-1">
                    </div>
                    <div class="col pl-1 pr-1">

                    </div>
                    <div class="col pl-1 pr-0" id="block-11">
                        <img src="../777/image/4.png" class="img-size">
                        <i id="l-11" class="fas fa-circle circle-left"></i>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col pl-0 pr-1" id="block-18">
                        <img src="../777/image/3.png" class="img-size">
                        <i id="l-18" class="fas fa-circle" style="position: absolute;
                        left: 75%;
                        top: 7%; color: lightgray"></i>
                    </div>
                    <div class="col pl-1 pr-1" id="block-17">
                        <img src="../777/image/2.png" class="img-size">
                        <i id="l-17" class="fas fa-circle circle-top"></i>
                    </div>
                    <div class="col pl-1 pr-1" id="block-16">
                        <img src="../777/image/1.png" class="img-size">
                        <i id="l-16" class="fas fa-circle circle-top"></i>
                    </div>
                    <div class="col pl-1 pr-1" id="block-15">
                        <img src="../777/image/8.png" class="img-size">
                        <i id="l-15" class="fas fa-circle circle-top"></i>
                    </div>
                    <div class="col pl-1 pr-1" id="block-14">
                        <img src="../777/image/7.png" class="img-size">
                        <i id="l-14" class="fas fa-circle circle-top"></i>
                    </div>
                    <div class="col pl-1 pr-1" id="block-13">
                        <img src="../777/image/6.png" class="img-size">
                        <i id="l-13" class="fas fa-circle circle-top"></i>
                    </div>
                    <div class="col pl-1 pr-0" id="block-12">
                        <img src="../777/image/5.png" class="img-size">
                        <i id="l-12" class="fas fa-circle" style="position: absolute;
                        left: 7%;
                        top: 7%; color: lightgray"></i>
                    </div>
                </div>
            </div>
            <div class="ml-1 col-6">
                <div class="row">
                    <div class="col mark" style="background: red ;border-left: 4px solid black">
                        <span>100</span>
                    </div>
                    <div class="col mark">
                        <span>50</span>
                    </div>
                    <div class="col mark">
                        <span>40</span>
                    </div>
                    <div class="col mark">
                        <span>30</span>
                    </div>
                    <div class="col mark">
                        <span>20</span>
                    </div>
                    <div class="col mark" style="background: yellow ;">
                        <span>10</span>
                    </div>
                    <div class="col mark" style="background: yellow ;">
                        <span>10</span>
                    </div>
                    <div class="col mark" style="background: yellow ;border-right: 4px solid black">
                        <span>10</span>
                    </div>
                </div>
                <div class="row">
                    <div class="col imgborder" style="border-left:4px solid black">
                        <img src="../777/image/1.png" class="img-size">
                    </div>
                    <div class="col imgborder">
                        <img src="../777/image/2.png" class="img-size">
                    </div>
                    <div class="col imgborder">
                        <img src="../777/image/3.png" class="img-size">
                    </div>
                    <div class="col imgborder">
                        <img src="../777/image/4.png" class="img-size">
                    </div>
                    <div class="col imgborder">
                        <img src="../777/image/5.png" class="img-size">
                    </div>
                    <div class="col imgborder">
                        <img src="../777/image/6.png" class="img-size">
                    </div>
                    <div class="col imgborder">
                        <img src="../777/image/7.png" class="img-size">
                    </div>
                    <div class="col imgborder" style="border-right:4px solid black">
                        <img src="../777/image/8.png" class="img-size">
                    </div>
                </div>
                <div class="row">
                    <div class="col bet" style="border-left:4px solid black">
                        <span id="bet-0">0</span>
                    </div>
                    <div class="col bet">
                        <span id="bet-1">0</span>
                    </div>
                    <div class="col bet">
                        <span id="bet-2">0</span>
                    </div>
                    <div class="col bet">
                        <span id="bet-3">0</span>
                    </div>
                    <div class="col bet">
                        <span id="bet-4">0</span>
                    </div>
                    <div class="col bet">
                        <span id="bet-5">0</span>
                    </div>
                    <div class="col bet">
                        <span id="bet-6">0</span>
                    </div>
                    <div class="col bet" style="border-right:4px solid black">
                        <span id="bet-7">0</span>
                    </div>
                </div>
                <div class="row mt-1">
                    <div class="col  pl-1 pr-1">
                        <button type="button" name="bet-0" value="100" class="btn btn-secondary btn-lg btn-block">押</button>
                    </div>
                    <div class="col  pl-0 pr-1">
                        <button type="button" name="bet-1" value="50" class="btn btn-secondary btn-lg btn-block">押</button>
                    </div>
                    <div class="col  pl-0 pr-1">
                        <button type="button" name="bet-2" value="40" class="btn btn-secondary btn-lg btn-block">押</button>
                    </div>
                    <div class="col  pl-0 pr-1">
                        <button type="button" name="bet-3" value="30" class="btn btn-secondary btn-lg btn-block">押</button>
                    </div>
                    <div class="col  pl-0 pr-1">
                        <button type="button" name="bet-4" value="20" class="btn btn-secondary btn-lg btn-block">押</button>
                    </div>
                    <div class="col  pl-0 pr-1">
                        <button type="button" name="bet-5" value="10" class="btn btn-secondary btn-lg btn-block">押</button>
                    </div>
                    <div class="col  pl-0 pr-1">
                        <button type="button" name="bet-6" value="10" class="btn btn-secondary btn-lg btn-block">押</button>
                    </div>
                    <div class="col  pl-0 pr-1">
                        <button type="button" name="bet-7" value="10" class="btn btn-secondary btn-lg btn-block">押</button>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col pl-1 pr-1">
                        <button type="button" class="btn btn-success btn-block" id="start">
                            Start
                        </button>
                    </div>
                    <div class="col pl-1 pr-1">
                        <button type="button" class="btn btn-success btn-block" id="clear">
                            清空下注
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <script>
        var allmoney = 100;
        var winMoney = 0;
        var nowposition = 0;
        var allBlock = 0;
        var times;
        var speed;
        var alltimes;
        var betnumber = [0, 0, 0, 0, 0, 0, 0, 0]
        var betmoney = [100, 50, 40, 30, 20, 10, 10, 10]
        $(function () {
            $(
                '<audio id="myAudio"><source src="../777/1.mp3" type="audio/mp3"></audio>'
            ).appendTo('body');
            $('#displayMoney').text(allmoney)
            $('#displayAllWinMoney').text(winMoney)
            $('#displayWinMoney').text(0)
            setClick();
        })

        function setClick() {
            var i = 0;
            while (true) {
                var button = document.querySelector('button[name=bet-' + i + ']')
                if (!button) {
                    return;
                }
                button.onclick = function () {
                    var which = this.name.split('-')[1];
                    betnumber[which] += 1;
                    allmoney -= 1;
                    $('#displayMoney').text(allmoney)
                    $('#displayAllWinMoney').text(winMoney)
                    $('#' + this.name).text(betnumber[which])
                    console.log(which);
                }
                i++;
            }
        }

        function clearAll() {
            betnumber = [0, 0, 0, 0, 0, 0, 0, 0];
            $('#displayMoney').text(allmoney)
            $('#displayAllWinMoney').text(winMoney)
            $('#displayWinMoney').text(0)

            for (var i = 0; i < 8; i++) {
                $('#bet-' + i).text("0")
            }
        }
        $('#clear').click(function () {
            var tmp = 0;
            for (var i = 0; i < betnumber.length; i++) {
                tmp += betnumber[i]
            }
            allmoney += tmp;
            clearAll();
        })
        document.getElementById('start').onclick = function () {
            times = 23 * 4 + (Math.floor(Math.random() * 23) + 1);
            console.log(times);
            speed = 500;
            alltimes = times;
            changeLight(times);
            $(this).prop('disabled', true);
        }

        function computeMoney() {
            var _now = 0
            nowposition - 1 < 0 ? _now = 23 : _now = nowposition - 1;

            var $now = $("#block-" + _now).find('img').attr('src').split('/')[3].split('.')[0]
            console.log($now)
            winMoney += betnumber[$now - 1] * betmoney[$now - 1];
            allmoney += winMoney;
            var winmoney = betnumber[$now - 1] * betmoney[$now - 1];
            clearAll();
            $('#displayMoney').text(allmoney)
            $('#displayAllWinMoney').text(winMoney)
            $('#displayWinMoney').text(winMoney)
            $('#start').prop('disabled', false);
            winmoney = 0;
        }

        function changeLight(times) {
            $('#myAudio')[0].pause();
            $('#myAudio')[0].currentTime = 0;
            console.log(times);
            nowposition > 23 ? nowposition = 0 : {};
            if (times <= 0) {
                computeMoney()
                return;
            }
            times--;
            var nowblock = document.getElementById("l-" + nowposition);
            if (document.getElementById("l-" + (nowposition - 1))) {
                document.getElementById("l-" + (nowposition - 1)).style.color = "lightgrey";
                document.getElementById("l-" + (nowposition - 1)).style.transition = "all .3s";
            } else {
                document.getElementById("l-" + 23).style.color = "lightgrey";
                document.getElementById("l-" + 23).style.transition = "all .3s";
            }
            nowblock.style.color = "#FF0000";
            nowblock.style.transition = "all 0s";
            nowposition++;
            if (times > parseInt(alltimes * 0.90)) {
                speed -= 40;
                //             console.log("慢速")
            } else if (times > alltimes * 0.25) {
                speed -= 1;
                //            console.log("快速")
            } else {
                speed += 10;
                //              console.log("減速")
            }
            //        console.log(speed);
            $('#myAudio')[0].play();

            setTimeout(function () {
                changeLight(times);
            }, speed);

        }
    </script>
</body>

</html>